<!-- 検索フォーム -->
<form>
  <label>会員No: <input type="text" id="searchNo" /></label><br>
  <button class="search-button" type="button" onclick="search()">検索</button>
</form>

<!-- 検索結果表示エリア -->
<div id="searchResults"></div>

<!-- 会員情報カード -->
<div class="card-container">
  <!-- ここに会員カードが表示されます -->
</div>

<script>
// 検索機能
function search() {
  let searchNo = document.getElementById('searchNo').value;

  // GitHubからデータを取得
  fetch('https://raw.githubusercontent.com/kousaiclub-vol1/data/main/members.json')
    .then(response => response.json())
    .then(data => {
      // 検索結果をフィルタリング
      let filteredMembers = data.filter(member => {
        return member.会員No == searchNo;  // 会員Noで検索
      });

      // 検索結果を表示
      const resultsContainer = document.getElementById('searchResults');
      resultsContainer.innerHTML = ""; // 既存の結果をクリア
      if (filteredMembers.length > 0) {
        filteredMembers.forEach(member => {
          let memberCard = createMemberCard(member); // 会員カードを生成
          resultsContainer.appendChild(memberCard);
        });
      } else {
        resultsContainer.innerHTML = "該当する会員が見つかりませんでした。";
      }
    })
    .catch(error => console.error("データ取得エラー:", error));
}

// 会員カードを生成する関数
function createMemberCard(member) {
  let card = document.createElement('div');
  card.classList.add('card');
  card.innerHTML = `
    <div class="card-image">
      <!-- 画像をクリックしたら、個別ページに遷移 -->
      <a href="member${member.会員No}.html" target="_blank">
        <img src="${member.写真.split(',')[0]}" alt="${member.氏名}">
      </a>
    </div>
    <div class="card-text">
      <p><strong>No.</strong> ${member.会員No} ${member.氏名}</p>
      <p>${member.身長}cm (${member.年齢}歳)</p>
      <p>${member.スリーサイズ（B）}, ${member.スリーサイズ（W）}, ${member.スリーサイズ（H）}, ${member.スリーサイズ（Cup）}</p>
      <p class="comment">${member.本人コメント}</p>
    </div>
  `;
  return card;
}
</script>
